---
title: "Markdown and Network Plotting"
output: html_document
---

# Introduction

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. The goal of RMarkdown Notebooks is to write documents and reports that intersperse text and code.

The text is written in [markdown](https://rmarkdown.rstudio.com/authoring_pandoc_markdown.html). It has lots of different formatting options. Just take a look at this document for example, such as the "Introduction header" or the links in this section.

## Making documents

You can either interact with RMarkdown files within RStudio or "knit" them into finished documents. To create a finished document, click 

When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing `Ctrl+Shift+Enter`. 

```{r}
x <- c(43,643,765)

print(paste0("The mean of x is ", mean(x)))
```

## Writing code

Code that will be run is marked with three backticks (\`) followed by `{r}` and ends with three backticks. The simplest way to create a code block is to do `Ctrl+Alt+I` or to click the green `Insert` button at the top of the Markdown window.

By default, the code and the output will appear in the created document, but you can set `echo=FALSE` and it will just show the output. Typically, you would want to do this when you're creating a plot.

For example, this is how you create a scatterplot. For now, don't worry about what all of the code means - we'll come to that in later lessons.

```{r echo=FALSE, message=FALSE}
library(tidyverse)
mtcars %>%
  ggplot() +
  geom_point(aes(y=mpg, x=disp))

```

When you ran the code above you may have gotten an error that said something like "there is no package called 'tidyverse'". If you get this error, then you need to install the tidyverse package. You do that by copying and pasting this code into the console, and pressing enter: `install.packages('tidyverse')`.

# Introduction to network data

We will have a few more lessons about importing, manipulating, analyzing, and visualizing network data. This is just a very quick introduction into some of the principles of how network data is organized, and an introduction to ggraph, which is the library we will use to create network visualization.

## Nodes and edges

A good way to think about network data is as a spreadsheet of information about nodes and a spreadsheet of information about edges. For example, a company network might have a node "spreadsheet" that looks like this:

|Name | Role | Age|
|-----|------|----|
|Elizabeth |CEO |45 |
|John| Customer Support | 30|
| Marcus | Sales | 25|
|...|...|...|

And an edge "spreadsheet that looks like this

|From | To | Type |
|---|----|-----|
| John | Elizabeth | Frienship |
| Marcus | John | Supervises |
|... | ... | ... |


We will talk about lots of different analyses we can do with this kind of data. For now, I just want to show you an example of visualizing a network.

In order to use `ggraph` you will need to install two packages. So, copy and paste and run this code in the console: `install.packages(c('ggraph', 'tidygraph'))`.

First, we load the packages

```{r, echo=FALSE, message=FALSE}
# Load the packages needed
library(ggraph)
library(tidygraph)
```

Then, this code loads one of the networks included in tidygraph and plots it.

```{r}

create_notable("Zachary") %>%  # Load the Zachary network
  mutate(centrality = centrality_degree()) %>% # Calculate centrality as number of neighbors
  ggraph() + # Load ggraph
  geom_node_point(aes(size = centrality), color = 'blue') + # Set the size of nodes equal to the centrality
  geom_edge_fan(width = .2)
```

For this (very brief) assignment, play with the code above and see if you can figure out how to make the nodes all the same size but with the color changing based on the centrality.

```{r}

# Your new plotting code here

```

Play around with the plotting code in other ways and see if your can figure out how to do things like change the layout ( see https://ggraph.data-imaginist.com/index.html for the documentation).
